# EoSFit 模块测试指南

## 快速测试

### 1. 启动应用

```bash
cd /workspace
python3 main.py
```

### 2. 导航到 EoSFit

1. 在主窗口左侧边栏找到 **"📐 EoSFit"** 按钮
2. 点击该按钮
3. 应该看到 EoSFit 模块的介绍界面

### 3. 打开 EoS GUI

1. 在 EoSFit 模块界面中，点击 **"🚀 Open EoSFit GUI"** 按钮
2. 应该弹出一个新窗口：**"EoSFit - CrysFML Equation of State Fitting"**
3. 窗口大小：1480x900

### 4. 测试基本功能

1. **加载数据**:
   - 点击 "Load CSV File" 按钮
   - 选择包含 `V_atomic` 和 `Pressure (GPa)` 列的 CSV 文件

2. **选择 EoS 模型**:
   - 从下拉菜单选择（默认: Birch-Murnaghan 3rd）

3. **查看初始拟合**:
   - 加载数据后自动显示初始拟合

4. **调整参数**:
   - 手动修改 V₀, B₀, B₀' 值
   - 点击 "Update Plot" 或按回车

5. **自动拟合**:
   - 点击 "Fit Unlocked Parameters"
   - 查看拟合结果

6. **查看详细结果**:
   - 点击 "Open Fitting Information Window"
   - 查看 CrysFML 风格的输出

## 测试数据

### 创建测试 CSV

```bash
cat > /tmp/test_eos_data.csv << 'DATA'
V_atomic,Pressure (GPa)
74.68,0.0
74.22,2.01
73.48,5.03
72.90,7.49
72.28,10.10
71.65,12.84
DATA
```

### 期望结果 (MgO)

- V₀ ≈ 74.7 Å³
- B₀ ≈ 160 GPa
- B₀' ≈ 4.0

## 故障排除

### 问题: 点击按钮没反应

**检查**:
```bash
# 查看控制台错误
python3 main.py 2>&1 | grep -i error
```

**解决**:
- 检查 `eosfit_module.py` 是否存在
- 检查 `interactive_eos_gui.py` 是否存在

### 问题: 窗口显示异常

**解决**:
- 关闭窗口重新打开
- 检查屏幕分辨率 >= 1920x1080

### 问题: 拟合失败

**检查**:
- CSV 文件格式是否正确
- 数据点数量 >= 3
- 数据是否合理（压力随体积递减）

## 功能检查清单

- [ ] 主界面显示 "📐 EoSFit" 按钮
- [ ] 点击按钮切换到 EoSFit 模块
- [ ] 模块显示介绍和功能说明
- [ ] 点击 "🚀 Open EoSFit GUI" 弹出窗口
- [ ] 窗口包含所有控件（数据加载、模型选择、参数、拟合按钮）
- [ ] 可以加载 CSV 数据
- [ ] 可以选择不同的 EoS 模型
- [ ] 参数调整后图形实时更新
- [ ] 自动拟合功能正常
- [ ] 结果窗口可以打开并显示详细信息
- [ ] 正则化滑块可以调节
- [ ] 参数锁定功能正常
- [ ] 多策略拟合可用

## 性能检查

### 响应时间

- 数据加载: < 1 秒
- 参数更新: < 0.1 秒
- 自动拟合: < 1 秒 (10-100 数据点)
- 图形绘制: < 0.5 秒

### 资源使用

- 内存: < 200 MB
- CPU: 正常使用 < 10%

## 成功标准

✅ 所有功能检查清单项目通过  
✅ 无明显错误或崩溃  
✅ 响应时间在可接受范围内  
✅ 用户体验流畅  

---

**测试完成后**: 
EoSFit 模块已成功集成并可用！
